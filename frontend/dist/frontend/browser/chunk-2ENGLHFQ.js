import{a as se,b as ce,e as de}from"./chunk-PRSKFIXK.js";import{a as ee}from"./chunk-B2Z3VH2C.js";import{c as ne,d as te}from"./chunk-FRLGZUTG.js";import{a as Ae,b as D,c as M,d as z,e as oe,g as R,h as ie,j as re,m as ae,n as B,o as Y,p as $,u as le,v as Ie,w as De,x as ze,y as je}from"./chunk-X32652AF.js";import{b as x,d as Le,e as V}from"./chunk-EL426IR4.js";import{Ca as p,Da as m,F as E,Fa as Q,Ga as k,Ha as S,Hb as Z,Ia as _,J as ve,Ja as i,K as J,Ka as r,La as c,M as ke,Ob as Fe,Pb as Ne,R as C,Ra as y,S as b,Ua as f,Wa as g,a as G,ac as be,b as H,cb as I,eb as a,f as Ce,fb as T,gb as P,hb as Se,ia as l,j as xe,jb as F,k as v,kb as N,lb as L,na as u,ob as j,pb as Te,qa as A,ra as K,rb as X,tb as we,w as h,wb as Ee}from"./chunk-3KMOHGR5.js";var w=class o{constructor(n){this.apiService=n;this.loadInitialData(),console.log("PersonnelService constructor llamado")}personnelListSubject=new Ce([]);personnelList$=this.personnelListSubject.asObservable();personnelTypesSubject=new Ce([]);personnelTypes$=this.personnelTypesSubject.asObservable();loadInitialData(){this.getAllPersonnel().subscribe(),this.getAllPersonnelTypes().subscribe()}getAllPersonnel(){return this.apiService.getOb(x.PERSONNEL.BASE).pipe(v(n=>this.handleArrayResponse(n)),E(n=>this.personnelListSubject.next(n)),h(n=>this.handleError("Error obteniendo personal",n)))}getPersonnelById(n){return this.apiService.getOb(x.PERSONNEL.BY_ID(n)).pipe(v(e=>this.handleSingleResponse(e)),h(e=>this.handleError(`Error obteniendo personal ${n}`,e)))}createPersonnel(n){return this.apiService.postOb(x.PERSONNEL.BASE,n).pipe(v(e=>this.handleSingleResponse(e)),E(e=>{let t=this.personnelListSubject.value;this.personnelListSubject.next([...t,e])}),h(e=>this.handleError("Error creando personal",e)))}updatePersonnel(n,e){return this.apiService.putOb(x.PERSONNEL.BY_ID(n),e).pipe(v(t=>this.handleSingleResponse(t)),E(t=>{let d=this.personnelListSubject.value.map(O=>O._id===n?t:O);this.personnelListSubject.next(d)}),h(t=>this.handleError(`Error actualizando personal ${n}`,t)))}deletePersonnel(n){return this.apiService.deleteOb(x.PERSONNEL.BY_ID(n)).pipe(E(()=>{let t=this.personnelListSubject.value.filter(s=>s._id!==n);this.personnelListSubject.next(t)}),h(e=>this.handleError(`Error eliminando personal ${n}`,e)))}getAllPersonnelTypes(){return this.apiService.getOb(x.TYPES.PERSONNEL.BASE).pipe(v(n=>this.handleArrayResponse(n)),E(n=>this.personnelTypesSubject.next(n)),h(n=>this.handleError("Error obteniendo tipos de personal",n)))}getPersonnelTypeById(n){return this.apiService.getOb(x.TYPES.PERSONNEL.BY_ID(n)).pipe(v(e=>this.handleSingleResponse(e)),h(e=>this.handleError(`Error obteniendo tipo de personal ${n}`,e)))}createPersonnelType(n){return this.apiService.postOb(x.TYPES.PERSONNEL.BASE,n).pipe(v(e=>this.handleSingleResponse(e)),E(e=>{let t=this.personnelTypesSubject.value;this.personnelTypesSubject.next([...t,e])}),h(e=>this.handleError("Error creando tipo de personal",e)))}updatePersonnelType(n,e){return this.apiService.putOb(x.TYPES.PERSONNEL.BY_ID(n),e).pipe(v(t=>this.handleSingleResponse(t)),E(t=>{let d=this.personnelTypesSubject.value.map(O=>O._id===n?t:O);this.personnelTypesSubject.next(d)}),h(t=>this.handleError(`Error actualizando tipo de personal ${n}`,t)))}deletePersonnelType(n){return this.apiService.deleteOb(x.TYPES.PERSONNEL.BY_ID(n)).pipe(E(()=>{let t=this.personnelTypesSubject.value.filter(s=>s._id!==n);this.personnelTypesSubject.next(t)}),h(e=>this.handleError(`Error eliminando tipo de personal ${n}`,e)))}handleArrayResponse(n){if(!n.success)throw new Error(n.message||"Operaci\xF3n fallida");if(!n.data)throw new Error("Datos no disponibles");return Array.isArray(n.data)?n.data:[n.data]}handleSingleResponse(n){if(!n.success)throw new Error(n.message||"Operaci\xF3n fallida");if(!n.data)throw new Error("Datos no disponibles");if(Array.isArray(n.data)){if(n.data.length===0)throw new Error("No se encontraron resultados");return n.data[0]}return n.data}handleError(n,e){console.error(`[PersonnelService] ${n}`,e);let t=e.error?.message||e.message||"Error desconocido";return xe(()=>new Error(t))}getPersonnelByType(n){return this.personnelList$.pipe(v(e=>e.filter(t=>t.personnelType===n)))}searchPersonnel(n){return this.apiService.getOb(`${x.PERSONNEL.BASE}/search?q=${n}`).pipe(v(e=>this.handleArrayResponse(e)),h(e=>this.handleError("Error buscando personal",e)))}searchPersonnelTypes(n){return this.apiService.getOb(`${x.TYPES.PERSONNEL.BASE}/search?q=${n}`).pipe(v(e=>this.handleArrayResponse(e)),h(e=>this.handleError("Error buscando tipos de personal",e)))}static \u0275fac=function(e){return new(e||o)(ke(Le))};static \u0275prov=ve({token:o,factory:o.\u0275fac,providedIn:"root"})};function Ye(o,n){o&1&&a(0," Editar Categor\xEDa ")}function $e(o,n){o&1&&a(0," Nueva Categor\xEDa ")}function qe(o,n){o&1&&(i(0,"span"),c(1,"i",27),a(2," Campo requerido"),r())}function Ge(o,n){o&1&&(i(0,"span"),c(1,"i",27),a(2," M\xE1ximo 50 caracteres"),r())}function We(o,n){if(o&1&&(i(0,"div",13),p(1,qe,3,0,"span"),p(2,Ge,3,0,"span"),r()),o&2){let e,t,s=g();l(),m(!((e=s.typeForm.get("name"))==null||e.errors==null)&&e.errors.required?1:-1),l(),m(!((t=s.typeForm.get("name"))==null||t.errors==null)&&t.errors.maxlength?2:-1)}}function Ue(o,n){o&1&&(i(0,"span"),c(1,"i",27),a(2," M\xE1ximo 200 caracteres"),r())}function He(o,n){if(o&1&&(i(0,"div",13),p(1,Ue,3,0,"span"),r()),o&2){let e,t=g();l(),m(!((e=t.typeForm.get("description"))==null||e.errors==null)&&e.errors.maxlength?1:-1)}}function Je(o,n){o&1&&(c(0,"i",28),a(1," Guardando... "))}function Ke(o,n){o&1&&a(0," Actualizar ")}function Qe(o,n){o&1&&a(0," Guardar ")}function Xe(o,n){if(o&1&&(c(0,"i",29),p(1,Ke,1,0)(2,Qe,1,0)),o&2){let e=g();l(),m(e.type?1:2)}}var me=class o{constructor(n,e,t,s){this.activeModal=n;this.fb=e;this.personnelService=t;this.authService=s;this.typeForm=this.fb.group({name:["",[M.required,M.maxLength(50)]],description:["",M.maxLength(200)],isActive:[!0]})}type=null;typeForm;isSaving=!1;ngOnInit(){this.type&&this.typeForm.patchValue({name:this.type.name,description:this.type.description||"",isActive:this.type.isActive})}saveType(){if(this.typeForm.invalid)return;this.isSaving=!0;let n=this.typeForm.value,e=this.authService.getUserId();if(!e){console.error("No hay usuario autenticado"),this.isSaving=!1,this.activeModal.dismiss();return}if(this.type){let t={_id:this.type._id,name:n.name,description:n.description,isActive:n.isActive,updatedBy:e};this.personnelService.updatePersonnelType(this.type._id,t).subscribe({next:()=>{this.isSaving=!1,this.activeModal.close("saved")},error:()=>{this.isSaving=!1}})}else{let t={name:n.name,description:n.description,isActive:n.isActive,createdBy:e,updatedAt_:""};this.personnelService.createPersonnelType(t).subscribe({next:()=>{this.isSaving=!1,this.activeModal.close("saved")},error:()=>{this.isSaving=!1}})}}static \u0275fac=function(e){return new(e||o)(u(se),u(le),u(w),u(V))};static \u0275cmp=A({type:o,selectors:[["app-personnel-type-form"]],inputs:{type:"type"},standalone:!1,decls:47,vars:8,consts:[[1,"type-form-modal"],[1,"modal-header"],[1,"modal-title"],[1,"title-icon"],[1,"fas","fa-tag"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[3,"formGroup"],[1,"form-grid"],[1,"form-group"],[1,"input-field"],["type","text","formControlName","name","placeholder","Nombre de la categor\xEDa"],[1,"error-message"],[1,"fas","fa-align-left"],["formControlName","description","rows","3","placeholder","Descripci\xF3n opcional (m\xE1x. 200 caracteres)"],[1,"fas","fa-power-off"],[1,"toggle-switch"],["type","checkbox","id","isActive","formControlName","isActive"],["for","isActive"],[1,"toggle-track"],[1,"toggle-thumb"],[1,"toggle-label-on"],[1,"toggle-label-off"],[1,"form-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-save"]],template:function(e,t){if(e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c(4,"i",4),r(),i(5,"h2"),p(6,Ye,1,0)(7,$e,1,0),r()(),i(8,"button",5),f("click",function(){return t.activeModal.dismiss()}),c(9,"i",6),r()(),i(10,"div",7)(11,"form",8)(12,"div",9)(13,"div",10)(14,"label"),c(15,"i",4),a(16," Nombre*"),r(),i(17,"div",11),c(18,"input",12),p(19,We,3,2,"div",13),r()(),i(20,"div",10)(21,"label"),c(22,"i",14),a(23," Descripci\xF3n"),r(),i(24,"div",11),c(25,"textarea",15),p(26,He,2,1,"div",13),r()(),i(27,"div",10)(28,"label"),c(29,"i",16),a(30," Estado"),r(),i(31,"div",17),c(32,"input",18),i(33,"label",19)(34,"span",20),c(35,"span",21),i(36,"span",22),a(37,"Activo"),r(),i(38,"span",23),a(39,"Inactivo"),r()()()()()(),i(40,"div",24)(41,"button",25),f("click",function(){return t.activeModal.dismiss()}),c(42,"i",6),a(43," Cancelar "),r(),i(44,"button",26),f("click",function(){return t.saveType()}),p(45,Je,2,0)(46,Xe,3,1),r()()()()()),e&2){let s,d,O;l(6),m(t.type?6:7),l(5),_("formGroup",t.typeForm),l(8),m((s=t.typeForm.get("name"))!=null&&s.invalid&&((s=t.typeForm.get("name"))!=null&&s.touched)?19:-1),l(7),m((d=t.typeForm.get("description"))!=null&&d.invalid&&((d=t.typeForm.get("description"))!=null&&d.touched)?26:-1),l(7),I("active",(O=t.typeForm.get("isActive"))==null?null:O.value),l(11),_("disabled",t.typeForm.invalid||t.isSaving),l(),m(t.isSaving?45:46)}},dependencies:[ie,D,Ae,z,oe,re,ae],styles:['@keyframes _ngcontent-%COMP%_particle-rotate{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse-glow{0%,to{opacity:1}50%{opacity:.7;box-shadow:0 0 15px currentColor}}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background:#1a1a2e;color:#fff;min-height:100vh;display:flex;justify-content:center;align-items:center;background-image:radial-gradient(circle at 10% 20%,rgba(106,17,203,.1) 0%,transparent 20%),radial-gradient(circle at 90% 80%,rgba(37,117,252,.1) 0%,transparent 20%)}.pulse-effect[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse-glow 2s infinite alternate}.card[_ngcontent-%COMP%]{background:#ffffff0d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:20px;box-shadow:0 8px 32px #0000004d;position:relative;overflow:hidden}.card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);transform:rotate(0);animation:_ngcontent-%COMP%_particle-rotate 15s linear infinite;pointer-events:none;z-index:0}.input-field[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5rem}.input-field[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:15px;top:50%;transform:translateY(-50%);color:#ffffffb3;transition:all .3s ease}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 15px 15px 45px;background:#ffffff1a;border:1px solid rgba(255,255,255,.1);border-radius:10px;color:#fff;font-size:1rem;transition:all .3s ease}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#6a11cb;background:#ffffff26;box-shadow:0 0 0 2px #6a11cb4d}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + i[_ngcontent-%COMP%]{color:#6a11cb}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:15px 25px;border-radius:10px;font-weight:600;text-transform:uppercase;letter-spacing:1px;font-size:.9rem;border:none;cursor:pointer;transform:translateY(0);transition:all .3s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0003}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6a11cb,#2575fc);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5e0fb3,#0c65fc)}.btn-text[_ngcontent-%COMP%]{background:transparent;color:#ffffffb3;padding:10px}.btn-text[_ngcontent-%COMP%]:hover{color:#f46b45}.alert[_ngcontent-%COMP%]{padding:15px;border-radius:10px;margin-bottom:20px;display:flex;align-items:center;gap:10px;animation:_ngcontent-%COMP%_fadeIn .3s ease}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.alert-success[_ngcontent-%COMP%]{background:#38ef7d1a;border-left:4px solid #38ef7d;color:#38ef7d}.alert-danger[_ngcontent-%COMP%]{background:#ff416c1a;border-left:4px solid #ff416c;color:#ff416c}.alert-warning[_ngcontent-%COMP%]{background:#f9d4231a;border-left:4px solid #f9d423;color:#f9d423}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.type-form-modal[_ngcontent-%COMP%]{background:#1a1a2e;border-radius:20px;overflow:hidden;width:100%;max-width:600px;box-shadow:0 10px 30px #0000004d}.type-form-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:1.5rem;background:linear-gradient(135deg,#6a11cb,#2575fc);display:flex;justify-content:space-between;align-items:center}.type-form-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.type-form-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:#fff3;border-radius:50%;display:flex;align-items:center;justify-content:center}.type-form-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:#fff}.type-form-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#fff;font-size:1.5rem}.type-form-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.2rem;cursor:pointer;transition:all .3s ease}.type-form-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{transform:rotate(90deg)}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:2rem;background:#1a1a2e}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1.5rem;margin-bottom:2rem}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem;font-weight:500;color:#ffffffe6}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#6a11cb;font-size:.95rem;width:20px;text-align:center}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{position:relative}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 2.5rem;background:#ffffff14;border:1px solid rgba(255,255,255,.1);border-radius:8px;color:#fff;font-size:.95rem;transition:all .3s ease}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#6a11cb;background-color:#ffffff1f;box-shadow:0 0 0 2px #6a11cb33}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:100px;resize:vertical}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]:before{content:"";font-family:"Font Awesome 5 Free";font-weight:900;position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#fff9;font-size:1rem;pointer-events:none}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-field[for=name][_ngcontent-%COMP%]:before{content:"\\f02b"}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-field[for=description][_ngcontent-%COMP%]:before{content:"\\f15c";top:1.2rem}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.8rem;color:#ff416c;display:flex;flex-direction:column;gap:.25rem}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]{margin-top:.5rem}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .toggle-track[_ngcontent-%COMP%]{background:#38ef7d4d}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .toggle-track[_ngcontent-%COMP%]   .toggle-thumb[_ngcontent-%COMP%]{left:calc(100% - 20px);background:#38ef7d}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .toggle-track[_ngcontent-%COMP%]   .toggle-label-on[_ngcontent-%COMP%]{opacity:1}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .toggle-track[_ngcontent-%COMP%]   .toggle-label-off[_ngcontent-%COMP%]{opacity:0}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;cursor:pointer}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .toggle-track[_ngcontent-%COMP%]{position:relative;width:80px;height:30px;background:#ff416c4d;border-radius:15px;transition:all .3s ease;overflow:hidden}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .toggle-track[_ngcontent-%COMP%]   .toggle-thumb[_ngcontent-%COMP%]{position:absolute;top:3px;left:3px;width:24px;height:24px;background:#ff416c;border-radius:50%;transition:all .3s ease;z-index:2}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .toggle-track[_ngcontent-%COMP%]   .toggle-label-on[_ngcontent-%COMP%], .type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .toggle-track[_ngcontent-%COMP%]   .toggle-label-off[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;display:flex;align-items:center;font-size:.7rem;font-weight:600;transition:all .3s ease}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .toggle-track[_ngcontent-%COMP%]   .toggle-label-on[_ngcontent-%COMP%]{left:10px;color:#fff;opacity:0}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .toggle-track[_ngcontent-%COMP%]   .toggle-label-off[_ngcontent-%COMP%]{right:10px;color:#fff;opacity:1}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding-top:1.5rem;border-top:1px solid rgba(255,255,255,.1)}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:10px;font-weight:500;transition:all .3s ease}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#ffffff0d;color:#fffc;border:1px solid rgba(255,255,255,.1)}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#ffffff1a}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6a11cb,#2575fc);color:#fff;border:none}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5e0fb3,#0c65fc)}.type-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;background:#ffffff1a}']})};var on=(o,n,e)=>({"fa-check-circle":o,"fa-exclamation-triangle":n,"fa-info-circle":e}),rn=(o,n)=>n._id;function an(o,n){if(o&1&&(i(0,"div",8),c(1,"i",27),i(2,"div")(3,"strong"),a(4),r(),a(5),r()()),o&2){let e=g();_("ngClass","alert-"+e.alertType),l(),_("ngClass",X(4,on,e.alertType==="success",e.alertType==="danger",e.alertType==="info")),l(3),T(e.alertType==="success"?"\xC9xito!":e.alertType==="danger"?"Error!":"Informaci\xF3n!"),l(),P(" ",e.alertMessage," ")}}function ln(o,n){o&1&&(i(0,"div",24)(1,"div",28),c(2,"i",29),r(),i(3,"p"),a(4,"Cargando categor\xEDas..."),r()())}function sn(o,n){if(o&1){let e=y();i(0,"div",25),c(1,"i",30),i(2,"h3"),a(3,"No se encontraron categor\xEDas"),r(),i(4,"p"),a(5,"Intenta ajustar tus filtros de b\xFAsqueda"),r(),i(6,"button",14),f("click",function(){C(e);let s=g();return b(s.resetFilters())}),c(7,"i",15),a(8," Limpiar filtros "),r()()}}function cn(o,n){if(o&1){let e=y();i(0,"tr")(1,"td",32)(2,"div",33),c(3,"i",30),r(),a(4),r(),i(5,"td",34),a(6),r(),i(7,"td",35)(8,"span",36),c(9,"i",37),a(10),r()(),i(11,"td",38)(12,"div",39)(13,"button",40),f("click",function(){let s=C(e).$implicit,d=g(2);return b(d.openTypeForm(s))}),c(14,"i",41),r(),i(15,"button",42),f("click",function(){let s=C(e).$implicit,d=g(2);return b(d.confirmDelete(s._id))}),c(16,"i",43),r(),i(17,"button",44),f("click",function(){let s=C(e).$implicit,d=g(2);return b(d.toggleStatus(s))}),c(18,"i",37),r()()()()}if(o&2){let e=n.$implicit;l(4),P(" ",e.name," "),l(2),T(e.description||"-"),l(2),_("ngClass",e.isActive?"active":"inactive"),l(),I("fa-check-circle",e.isActive)("fa-times-circle",!e.isActive),l(),P(" ",e.isActive?"Activo":"Inactivo"," "),l(8),I("fa-toggle-on",e.isActive)("fa-toggle-off",!e.isActive)}}function dn(o,n){if(o&1&&(i(0,"div",26)(1,"table",31)(2,"thead")(3,"tr")(4,"th"),a(5,"Nombre"),r(),i(6,"th"),a(7,"Descripci\xF3n"),r(),i(8,"th"),a(9,"Estado"),r(),i(10,"th"),a(11,"Acciones"),r()()(),i(12,"tbody"),k(13,cn,19,12,"tr",null,rn),r()()()),o&2){let e=g();l(13),S(e.filteredTypes)}}var ge=class o{constructor(n,e){this.personnelService=n;this.modalService=e}personnelTypes=[];filteredTypes=[];searchTerm="";statusFilter="all";isLoading=!0;alertMessage="";alertType="";ngOnInit(){this.loadData(),this.personnelService.personnelTypes$.subscribe(n=>{this.personnelTypes=n,this.filterData(),this.isLoading=!1})}loadData(){this.isLoading=!0,this.personnelService.getAllPersonnelTypes().subscribe({error:()=>this.showAlert("Error al cargar las categor\xEDas","danger")})}filterData(){this.filteredTypes=this.personnelTypes.filter(n=>{let e=n.name.toLowerCase().includes(this.searchTerm.toLowerCase()),t=this.statusFilter==="all"||this.statusFilter==="active"&&n.isActive||this.statusFilter==="inactive"&&!n.isActive;return e&&t})}openTypeForm(n){let e=this.modalService.open(me,{size:"md",backdrop:"static"});e.componentInstance.type=n||null,e.result.then(t=>{t==="saved"&&(this.showAlert(n?"Categor\xEDa actualizada":"Categor\xEDa creada","success"),this.loadData())}).catch(()=>{})}toggleStatus(n){let e=!n.isActive;this.personnelService.updatePersonnelType(n._id,{isActive:e,_id:""}).subscribe({next:()=>this.showAlert(`Categor\xEDa ${e?"activada":"desactivada"}`,e?"success":"warning"),error:()=>this.showAlert("Error al cambiar estado","danger")})}confirmDelete(n){let e=this.modalService.open(de);e.componentInstance.title="Confirmar eliminaci\xF3n",e.componentInstance.message="\xBFEst\xE1s seguro de eliminar esta categor\xEDa?",e.componentInstance.confirmText="Eliminar",e.componentInstance.confirmClass="btn-danger",e.result.then(t=>{t&&this.deleteType(n)}).catch(()=>{})}deleteType(n){this.personnelService.deletePersonnelType(n).subscribe({next:()=>this.showAlert("Categor\xEDa eliminada","success"),error:()=>this.showAlert("Error al eliminar","danger")})}showAlert(n,e){this.alertMessage=n,this.alertType=e,setTimeout(()=>this.alertMessage="",5e3)}resetFilters(){this.searchTerm="",this.statusFilter="all",this.filterData()}static \u0275fac=function(e){return new(e||o)(u(w),u(ce))};static \u0275cmp=A({type:o,selectors:[["app-personnel-type-list"]],standalone:!1,decls:39,vars:6,consts:[[1,"main-content-wrapper"],[1,"dashboard-content"],[1,"dashboard-header"],[1,"header-content"],[1,"fas","fa-tags","me-2"],[1,"header-actions"],[1,"btn","btn-primary","new-user-btn",3,"click"],[1,"fas","fa-plus","me-2"],[1,"alert",3,"ngClass"],[1,"search-filter-section"],[1,"search-card"],[1,"input-field"],[1,"fas","fa-search"],["type","text","placeholder","Buscar categor\xEDas...",3,"ngModelChange","input","ngModel"],[1,"btn","btn-text",3,"click"],[1,"fas","fa-undo","me-1"],[1,"filter-cards"],[1,"filter-card"],[1,"fas","fa-power-off","me-2"],[3,"ngModelChange","change","ngModel"],["value","all"],["value","active"],["value","inactive"],[1,"table-section"],[1,"loading-state"],[1,"empty-state"],[1,"table-responsive"],[1,"fas",3,"ngClass"],[1,"spinner"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-tag"],[1,"personnel-table"],["data-label","Nombre",1,"type-name"],[1,"type-icon"],["data-label","Descripci\xF3n"],["data-label","Estado"],[1,"status-badge",3,"ngClass"],[1,"fas"],["data-label","Acciones",1,"actions-cell"],[1,"action-buttons"],[1,"btn-action","edit",3,"click"],[1,"fas","fa-edit"],[1,"btn-action","delete",3,"click"],[1,"fas","fa-trash-alt"],[1,"btn-action","toggle",3,"click"]],template:function(e,t){e&1&&(c(0,"app-navbar"),i(1,"div",0),c(2,"app-sidebar"),i(3,"main",1)(4,"div",2)(5,"div",3)(6,"h1"),c(7,"i",4),a(8," Gesti\xF3n de Categor\xEDas de Personal"),r(),i(9,"div",5)(10,"button",6),f("click",function(){return t.openTypeForm()}),c(11,"i",7),a(12," Nueva Categor\xEDa "),r()()()(),p(13,an,6,8,"div",8),i(14,"div",9)(15,"div",10)(16,"div",11),c(17,"i",12),i(18,"input",13),L("ngModelChange",function(d){return N(t.searchTerm,d)||(t.searchTerm=d),d}),f("input",function(){return t.filterData()}),r()(),i(19,"button",14),f("click",function(){return t.resetFilters()}),c(20,"i",15),a(21," Limpiar "),r()(),i(22,"div",16)(23,"div",17)(24,"label"),c(25,"i",18),a(26,"Estado"),r(),i(27,"select",19),L("ngModelChange",function(d){return N(t.statusFilter,d)||(t.statusFilter=d),d}),f("change",function(){return t.filterData()}),i(28,"option",20),a(29,"Todos"),r(),i(30,"option",21),a(31,"Activos"),r(),i(32,"option",22),a(33,"Inactivos"),r()()()()(),i(34,"div",23),p(35,ln,5,0,"div",24),p(36,sn,9,0,"div",25),p(37,dn,15,0,"div",26),r()()(),c(38,"app-footer")),e&2&&(l(13),m(t.alertMessage?13:-1),l(5),F("ngModel",t.searchTerm),l(9),F("ngModel",t.statusFilter),l(8),m(t.isLoading?35:-1),l(),m(!t.isLoading&&t.filteredTypes.length===0?36:-1),l(),m(!t.isLoading&&t.filteredTypes.length>0?37:-1))},dependencies:[Z,Y,$,D,B,z,R,ee,ne,te],styles:[`@keyframes _ngcontent-%COMP%_particle-rotate{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse-glow{0%,to{opacity:1}50%{opacity:.7;box-shadow:0 0 15px currentColor}}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background:#1a1a2e;color:#fff;min-height:100vh;display:flex;justify-content:center;align-items:center;background-image:radial-gradient(circle at 10% 20%,rgba(106,17,203,.1) 0%,transparent 20%),radial-gradient(circle at 90% 80%,rgba(37,117,252,.1) 0%,transparent 20%)}.pulse-effect[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse-glow 2s infinite alternate}.card[_ngcontent-%COMP%]{background:#ffffff0d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:20px;box-shadow:0 8px 32px #0000004d;position:relative;overflow:hidden}.card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);transform:rotate(0);animation:_ngcontent-%COMP%_particle-rotate 15s linear infinite;pointer-events:none;z-index:0}.input-field[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5rem}.input-field[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:15px;top:50%;transform:translateY(-50%);color:#ffffffb3;transition:all .3s ease}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 15px 15px 45px;background:#ffffff1a;border:1px solid rgba(255,255,255,.1);border-radius:10px;color:#fff;font-size:1rem;transition:all .3s ease}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#6a11cb;background:#ffffff26;box-shadow:0 0 0 2px #6a11cb4d}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + i[_ngcontent-%COMP%]{color:#6a11cb}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:15px 25px;border-radius:10px;font-weight:600;text-transform:uppercase;letter-spacing:1px;font-size:.9rem;border:none;cursor:pointer;transform:translateY(0);transition:all .3s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0003}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6a11cb,#2575fc);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5e0fb3,#0c65fc)}.btn-text[_ngcontent-%COMP%]{background:transparent;color:#ffffffb3;padding:10px}.btn-text[_ngcontent-%COMP%]:hover{color:#f46b45}.alert[_ngcontent-%COMP%]{padding:15px;border-radius:10px;margin-bottom:20px;display:flex;align-items:center;gap:10px;animation:_ngcontent-%COMP%_fadeIn .3s ease}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.alert-warning[_ngcontent-%COMP%]{background:#f9d4231a;border-left:4px solid #f9d423;color:#f9d423}.main-content-wrapper[_ngcontent-%COMP%]{display:flex;min-height:calc(100vh - 120px)}.dashboard-content[_ngcontent-%COMP%]{flex:1;padding:2rem;margin-left:280px;transition:margin-left .3s ease;background:#23233e}@media (max-width: 992px){.dashboard-content[_ngcontent-%COMP%]{margin-left:0;padding:1rem}}.personnel-management-container[_ngcontent-%COMP%]{padding:2rem;background:#23233e;min-height:calc(100vh - 120px)}.dashboard-header[_ngcontent-%COMP%]{margin-bottom:2rem}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;color:#fff;display:flex;align-items:center}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#6a11cb}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem}.alert[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1rem 1.5rem;border-radius:10px;display:flex;align-items:center;gap:1rem;animation:_ngcontent-%COMP%_fadeIn .3s ease}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.alert[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1}.alert[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:.25rem}.alert-success[_ngcontent-%COMP%]{background:#38ef7d1a;border-left:4px solid #38ef7d;color:#38ef7d}.alert-danger[_ngcontent-%COMP%]{background:#ff416c1a;border-left:4px solid #ff416c;color:#ff416c}.alert-info[_ngcontent-%COMP%]{background:#6a11cb1a;border-left:4px solid #6a11cb;color:#6a11cb}.search-filter-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1.5rem;margin-bottom:2rem}@media (min-width: 992px){.search-filter-section[_ngcontent-%COMP%]{grid-template-columns:2fr 1fr}}.search-card[_ngcontent-%COMP%]{background:#ffffff0d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);padding:1.5rem;border-radius:15px;display:flex;align-items:center;gap:1rem}.search-card[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{flex:1;position:relative}.search-card[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 3rem;background:#ffffff1a;border:1px solid rgba(255,255,255,.1);border-radius:10px;color:#fff;font-size:1rem;transition:all .3s ease}.search-card[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#6a11cb;background:#ffffff26;box-shadow:0 0 0 2px #6a11cb4d}.search-card[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.search-card[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#ffffffb3}.search-card[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{background:transparent;color:#ffffffb3;border:none;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease}.search-card[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]:hover{color:#6a11cb}.filter-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.filter-cards[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]{background:#ffffff0d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);padding:1rem;border-radius:10px}.filter-cards[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:.75rem;font-size:.9rem;color:#ffffffe6;font-weight:500}.filter-cards[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#6a11cb;margin-right:.75rem;font-size:.95rem}.filter-cards[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.65rem 1rem;background:#ffffff14;border:1px solid rgba(255,255,255,.1);border-radius:8px;color:#fff;font-size:.95rem;transition:all .3s ease;cursor:pointer;appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='rgba(255,255,255,0.6)'%3e%3cpath d='M7 10l5 5 5-5z'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:1rem}.filter-cards[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#6a11cb;background-color:#ffffff1f;box-shadow:0 0 0 2px #6a11cb33}.filter-cards[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#1a1a2ef2;color:#fff;padding:.5rem}.filter-cards[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{background:#6a11cb!important}.table-section[_ngcontent-%COMP%]{background:#ffffff0d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:15px;padding:1.5rem;min-height:400px;position:relative}.loading-state[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;inset:0;background:#1a1a2eb3;z-index:10}.loading-state[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{margin-bottom:1.5rem}.loading-state[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#6a11cb}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#fffc;margin-bottom:1.5rem}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:#ffffff4d;margin-bottom:1.5rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff9}.empty-state[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{margin-top:1rem}.personnel-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0}@media (max-width: 768px){.personnel-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.personnel-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:block;margin-bottom:1rem;border-radius:10px;background:#ffffff0d}.personnel-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;border-bottom:none}.personnel-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:600;margin-right:1rem;color:#ffffffb3}.personnel-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .personnel-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-radius:0}}.personnel-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem;text-align:left;font-weight:600;color:#fffc;border-bottom:2px solid rgba(255,255,255,.1)}.personnel-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease}.personnel-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#ffffff0d}.personnel-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid rgba(255,255,255,.05)}.personnel-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px;border-bottom-left-radius:10px}.personnel-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px;border-bottom-right-radius:10px}.type-name[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.type-name[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:#6a11cb33;display:flex;align-items:center;justify-content:center;color:#6a11cb}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:20px;font-size:.85rem;font-weight:500}.status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.status-badge.active[_ngcontent-%COMP%]{background:#38ef7d33;color:#38ef7d}.status-badge.inactive[_ngcontent-%COMP%]{background:#ff416c33;color:#ff416c}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}@media (max-width: 768px){.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{justify-content:flex-end}}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:none;cursor:pointer;transition:all .3s ease}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.edit[_ngcontent-%COMP%]{background:#6a11cb1a;color:#6a11cb}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.edit[_ngcontent-%COMP%]:hover{background:#6a11cb4d}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.delete[_ngcontent-%COMP%]{background:#ff416c1a;color:#ff416c}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.delete[_ngcontent-%COMP%]:hover{background:#ff416c4d}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.toggle[_ngcontent-%COMP%]{background:#38ef7d1a;color:#38ef7d}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.toggle[_ngcontent-%COMP%]:hover{background:#38ef7d4d}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}`]})};var pn=()=>({standalone:!0}),mn=(o,n)=>n._id,gn=(o,n)=>n.value;function fn(o,n){o&1&&a(0," Editar Personal ")}function _n(o,n){o&1&&a(0," Nuevo Personal ")}function un(o,n){if(o&1){let e=y();i(0,"div",8),c(1,"i",39),i(2,"div")(3,"strong"),a(4,"Error!"),r(),a(5),r(),i(6,"button",40),f("click",function(){C(e);let s=g();return b(s.errorMessage="")}),r()()}if(o&2){let e=g();l(5),P(" ",e.errorMessage," ")}}function Cn(o,n){o&1&&(i(0,"span"),c(1,"i",39),a(2," Campo requerido"),r())}function bn(o,n){o&1&&(i(0,"span"),c(1,"i",39),a(2," M\xE1ximo 50 caracteres"),r())}function Pn(o,n){if(o&1&&(i(0,"div",15),p(1,Cn,3,0,"span"),p(2,bn,3,0,"span"),r()),o&2){let e,t,s=g();l(),m(!((e=s.personnelForm.get("firstName"))==null||e.errors==null)&&e.errors.required?1:-1),l(),m(!((t=s.personnelForm.get("firstName"))==null||t.errors==null)&&t.errors.maxlength?2:-1)}}function Mn(o,n){o&1&&(i(0,"span"),c(1,"i",39),a(2," Campo requerido"),r())}function On(o,n){o&1&&(i(0,"span"),c(1,"i",39),a(2," M\xE1ximo 50 caracteres"),r())}function hn(o,n){if(o&1&&(i(0,"div",15),p(1,Mn,3,0,"span"),p(2,On,3,0,"span"),r()),o&2){let e,t,s=g();l(),m(!((e=s.personnelForm.get("lastName"))==null||e.errors==null)&&e.errors.required?1:-1),l(),m(!((t=s.personnelForm.get("lastName"))==null||t.errors==null)&&t.errors.maxlength?2:-1)}}function yn(o,n){o&1&&(i(0,"span"),c(1,"i",39),a(2," Campo requerido"),r())}function xn(o,n){o&1&&(i(0,"span"),c(1,"i",39),a(2," Formato de email inv\xE1lido"),r())}function vn(o,n){if(o&1&&(i(0,"div",15),p(1,yn,3,0,"span"),p(2,xn,3,0,"span"),r()),o&2){let e,t,s=g();l(),m(!((e=s.personnelForm.get("email"))==null||e.errors==null)&&e.errors.required?1:-1),l(),m(!((t=s.personnelForm.get("email"))==null||t.errors==null)&&t.errors.email?2:-1)}}function kn(o,n){o&1&&(i(0,"div",15)(1,"span"),c(2,"i",39),a(3," Formato inv\xE1lido (10-15 d\xEDgitos)"),r()())}function Sn(o,n){if(o&1&&(i(0,"div",22),c(1,"i",41),i(2,"span"),a(3,"Categor\xEDa actual: "),i(4,"strong"),a(5),r()()()),o&2){let e=g();l(5),T(e.currentTypeName)}}function Tn(o,n){if(o&1&&(i(0,"option",25),a(1),r()),o&2){let e=n.$implicit;_("value",e._id),l(),T(e.name)}}function wn(o,n){o&1&&(i(0,"div",15)(1,"span"),c(2,"i",39),a(3," Por favor seleccione una categor\xEDa"),r()())}function En(o,n){if(o&1&&(i(0,"option",25),a(1),r()),o&2){let e=n.$implicit;_("value",e.value),l(),T(e.label)}}function Fn(o,n){if(o&1){let e=y();i(0,"div",35),a(1),i(2,"button",42),f("click",function(){let s=C(e).$implicit,d=g();return b(d.removeSkill(s))}),c(3,"i",6),r()()}if(o&2){let e=n.$implicit;l(),P(" ",e," ")}}function Nn(o,n){o&1&&(c(0,"i",43),a(1," Procesando... "))}function Ln(o,n){o&1&&a(0," Actualizar ")}function An(o,n){o&1&&a(0," Guardar ")}function In(o,n){if(o&1&&(c(0,"i",44),p(1,Ln,1,0)(2,An,1,0)),o&2){let e=g();l(),m(e.personnel?1:2)}}var fe=class o{constructor(n,e,t,s){this.activeModal=n;this.fb=e;this.personnelService=t;this.authService=s;this.personnelForm=this.fb.group({firstName:["",[M.required,M.maxLength(50)]],lastName:["",[M.required,M.maxLength(50)]],email:["",[M.required,M.email]],phone:["",[M.pattern(/^[0-9]{10,15}$/)]],personnelType:["",M.required],status:["disponible",M.required],skills:[[]]})}personnel;personnelTypes=[];personnelForm;isSaving=!1;currentTypeName="Sin categor\xEDa";newSkill="";errorMessage="";statusOptions=[{value:"disponible",label:"Disponible"},{value:"asignado",label:"Asignado"},{value:"vacaciones",label:"Vacaciones"},{value:"inactivo",label:"Inactivo"}];ngOnInit(){this.personnel&&(this.personnelForm.patchValue({firstName:this.personnel.firstName,lastName:this.personnel.lastName,email:this.personnel.email,phone:this.personnel.phone||"",personnelType:this.personnel.personnelType,status:this.personnel.status,skills:this.personnel.skills||[]}),this.updateCurrentTypeName())}updateCurrentTypeName(){if(this.personnel?.personnelType){let n=typeof this.personnel.personnelType=="string"?this.personnel.personnelType:this.personnel.personnelType._id,e=this.personnelTypes.find(t=>t._id===n);this.currentTypeName=e?e.name:"Sin categor\xEDa"}}onTypeChange(n){let e=n.target.value,t=this.personnelTypes.find(s=>s._id===e);this.currentTypeName=t?t.name:"Sin categor\xEDa"}savePersonnel(){if(this.personnelForm.invalid){this.markAllAsTouched();return}this.isSaving=!0;let n=this.personnelForm.value,e=this.authService.getUserId();if(this.personnel){let t=G({_id:this.personnel._id},n);this.personnelService.updatePersonnel(this.personnel._id,t).subscribe({next:()=>{this.isSaving=!1,this.activeModal.close("saved")},error:s=>{console.error("Error updating personnel:",s),this.isSaving=!1}})}else{let t=H(G({},n),{createdBy:e});this.personnelService.createPersonnel(t).subscribe({next:()=>{this.isSaving=!1,this.activeModal.close("saved")},error:s=>{console.error("Error creating personnel:",s),this.isSaving=!1}})}}addSkill(){if(this.newSkill.trim()&&!this.personnelForm.value.skills.includes(this.newSkill.trim())){let n=[...this.personnelForm.value.skills,this.newSkill.trim()];this.personnelForm.patchValue({skills:n}),this.newSkill=""}}removeSkill(n){let e=this.personnelForm.value.skills.filter(t=>t!==n);this.personnelForm.patchValue({skills:e})}markAllAsTouched(){Object.values(this.personnelForm.controls).forEach(n=>{n.markAsTouched()})}static \u0275fac=function(e){return new(e||o)(u(se),u(le),u(w),u(V))};static \u0275cmp=A({type:o,selectors:[["app-personnel-form"]],inputs:{personnel:"personnel",personnelTypes:"personnelTypes"},standalone:!1,decls:81,vars:14,consts:[[1,"personnel-form-modal"],[1,"modal-header"],[1,"modal-title"],[1,"title-icon"],[1,"fas","fa-user-edit"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[1,"alert","alert-danger"],[3,"ngSubmit","formGroup"],[1,"form-grid"],[1,"form-group"],[1,"fas","fa-user"],[1,"input-field"],["type","text","formControlName","firstName","placeholder","Ingrese el nombre"],[1,"error-message"],["type","text","formControlName","lastName","placeholder","Ingrese el apellido"],[1,"fas","fa-envelope"],["type","email","formControlName","email","placeholder","Ingrese el email"],[1,"fas","fa-phone"],["type","tel","formControlName","phone","placeholder","Ingrese el tel\xE9fono"],[1,"fas","fa-user-tag"],[1,"current-type"],["formControlName","personnelType",3,"change"],["value",""],[3,"value"],[1,"fas","fa-power-off"],["formControlName","status"],[1,"form-group","full-width"],[1,"fas","fa-tools"],[1,"skills-input-container"],["type","text","placeholder","A\xF1adir nueva habilidad",3,"ngModelChange","keyup.enter","ngModel","ngModelOptions"],[1,"add-skill-btn",3,"click"],[1,"fas","fa-plus"],[1,"skills-list"],[1,"skill-tag"],[1,"form-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-exclamation-circle"],["type","button",1,"btn-close",3,"click"],[1,"fas","fa-info-circle"],["type","button",1,"remove-skill",3,"click"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-save"]],template:function(e,t){if(e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c(4,"i",4),r(),i(5,"h2"),p(6,fn,1,0)(7,_n,1,0),r()(),i(8,"button",5),f("click",function(){return t.activeModal.dismiss()}),c(9,"i",6),r()(),i(10,"div",7),p(11,un,7,1,"div",8),i(12,"form",9),f("ngSubmit",function(){return t.savePersonnel()}),i(13,"div",10)(14,"div",11)(15,"label"),c(16,"i",12),a(17," Nombre*"),r(),i(18,"div",13),c(19,"input",14),p(20,Pn,3,2,"div",15),r()(),i(21,"div",11)(22,"label"),c(23,"i",12),a(24," Apellido*"),r(),i(25,"div",13),c(26,"input",16),p(27,hn,3,2,"div",15),r()(),i(28,"div",11)(29,"label"),c(30,"i",17),a(31," Email*"),r(),i(32,"div",13),c(33,"input",18),p(34,vn,3,2,"div",15),r()(),i(35,"div",11)(36,"label"),c(37,"i",19),a(38," Tel\xE9fono"),r(),i(39,"div",13),c(40,"input",20),p(41,kn,4,0,"div",15),r()(),i(42,"div",11)(43,"label"),c(44,"i",21),a(45," Categor\xEDa*"),r(),p(46,Sn,6,1,"div",22),i(47,"div",13)(48,"select",23),f("change",function(d){return t.onTypeChange(d)}),i(49,"option",24),a(50,"Seleccione una categor\xEDa"),r(),k(51,Tn,2,2,"option",25,mn),r(),p(53,wn,4,0,"div",15),r()(),i(54,"div",11)(55,"label"),c(56,"i",26),a(57," Estado*"),r(),i(58,"div",13)(59,"select",27),k(60,En,2,2,"option",25,gn),r()()(),i(62,"div",28)(63,"label"),c(64,"i",29),a(65," Habilidades"),r(),i(66,"div",30)(67,"div",13)(68,"input",31),L("ngModelChange",function(d){return N(t.newSkill,d)||(t.newSkill=d),d}),f("keyup.enter",function(){return t.addSkill()}),r(),i(69,"button",32),f("click",function(){return t.addSkill()}),c(70,"i",33),r()(),i(71,"div",34),k(72,Fn,4,1,"div",35,Q),r()()()(),i(74,"div",36)(75,"button",37),f("click",function(){return t.activeModal.dismiss()}),c(76,"i",6),a(77," Cancelar "),r(),i(78,"button",38),p(79,Nn,2,0)(80,In,3,1),r()()()()()),e&2){let s,d,O,W,U,ye;l(6),m(t.personnel?6:7),l(5),m(t.errorMessage?11:-1),l(),_("formGroup",t.personnelForm),l(8),m((s=t.personnelForm.get("firstName"))!=null&&s.invalid&&((s=t.personnelForm.get("firstName"))!=null&&s.touched)?20:-1),l(7),m((d=t.personnelForm.get("lastName"))!=null&&d.invalid&&((d=t.personnelForm.get("lastName"))!=null&&d.touched)?27:-1),l(7),m((O=t.personnelForm.get("email"))!=null&&O.invalid&&((O=t.personnelForm.get("email"))!=null&&O.touched)?34:-1),l(7),m((W=t.personnelForm.get("phone"))!=null&&W.invalid&&((W=t.personnelForm.get("phone"))!=null&&W.touched)?41:-1),l(5),m(t.personnel?46:-1),l(5),S(t.personnelTypes),l(2),m((U=t.personnelForm.get("personnelType"))!=null&&U.invalid&&((U=t.personnelForm.get("personnelType"))!=null&&U.touched)?53:-1),l(7),S(t.statusOptions),l(8),F("ngModel",t.newSkill),_("ngModelOptions",j(13,pn)),l(4),S((ye=t.personnelForm.get("skills"))==null?null:ye.value),l(6),_("disabled",!1),l(),m(t.isSaving?79:80)}},dependencies:[ie,Y,$,D,B,z,oe,R,re,ae],styles:['@charset "UTF-8";@keyframes _ngcontent-%COMP%_particle-rotate{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse-glow{0%,to{opacity:1}50%{opacity:.7;box-shadow:0 0 15px currentColor}}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background:#1a1a2e;color:#fff;min-height:100vh;display:flex;justify-content:center;align-items:center;background-image:radial-gradient(circle at 10% 20%,rgba(106,17,203,.1) 0%,transparent 20%),radial-gradient(circle at 90% 80%,rgba(37,117,252,.1) 0%,transparent 20%)}.pulse-effect[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse-glow 2s infinite alternate}.card[_ngcontent-%COMP%]{background:#ffffff0d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:20px;box-shadow:0 8px 32px #0000004d;position:relative;overflow:hidden}.card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);transform:rotate(0);animation:_ngcontent-%COMP%_particle-rotate 15s linear infinite;pointer-events:none;z-index:0}.input-field[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5rem}.input-field[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:15px;top:50%;transform:translateY(-50%);color:#ffffffb3;transition:all .3s ease}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 15px 15px 45px;background:#ffffff1a;border:1px solid rgba(255,255,255,.1);border-radius:10px;color:#fff;font-size:1rem;transition:all .3s ease}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#6a11cb;background:#ffffff26;box-shadow:0 0 0 2px #6a11cb4d}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + i[_ngcontent-%COMP%]{color:#6a11cb}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:15px 25px;border-radius:10px;font-weight:600;text-transform:uppercase;letter-spacing:1px;font-size:.9rem;border:none;cursor:pointer;transform:translateY(0);transition:all .3s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0003}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6a11cb,#2575fc);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5e0fb3,#0c65fc)}.btn-text[_ngcontent-%COMP%]{background:transparent;color:#ffffffb3;padding:10px}.btn-text[_ngcontent-%COMP%]:hover{color:#f46b45}.alert[_ngcontent-%COMP%]{padding:15px;border-radius:10px;margin-bottom:20px;display:flex;align-items:center;gap:10px;animation:_ngcontent-%COMP%_fadeIn .3s ease}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.alert-success[_ngcontent-%COMP%]{background:#38ef7d1a;border-left:4px solid #38ef7d;color:#38ef7d}.alert-danger[_ngcontent-%COMP%]{background:#ff416c1a;border-left:4px solid #ff416c;color:#ff416c}.alert-warning[_ngcontent-%COMP%]{background:#f9d4231a;border-left:4px solid #f9d423;color:#f9d423}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.personnel-form-modal[_ngcontent-%COMP%]{background:#1a1a2e;border-radius:20px;overflow:hidden;width:100%;max-width:800px;box-shadow:0 10px 30px #0000004d}.personnel-form-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:1.5rem;background:linear-gradient(135deg,#6a11cb,#2575fc);display:flex;justify-content:space-between;align-items:center}.personnel-form-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.personnel-form-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:#fff3;border-radius:50%;display:flex;align-items:center;justify-content:center}.personnel-form-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:#fff}.personnel-form-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#fff;font-size:1.5rem}.personnel-form-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.2rem;cursor:pointer;transition:all .3s ease}.personnel-form-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{transform:rotate(90deg)}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:2rem;background:#1a1a2e}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem;margin-bottom:2rem}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem;font-weight:500;color:#ffffffe6}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#6a11cb;font-size:.95rem;width:20px;text-align:center}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .current-type[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem;padding:.5rem .75rem;background:#6a11cb1a;border-radius:6px;color:#6a11cb;font-size:.9rem}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .current-type[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{position:relative}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 2.5rem;background:#ffffff14;border:1px solid rgba(255,255,255,.1);border-radius:8px;color:#fff;font-size:.95rem;transition:all .3s ease}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#6a11cb;background-color:#ffffff1f;box-shadow:0 0 0 2px #6a11cb33}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]:before{font-family:"Font Awesome 5 Free";font-weight:900;position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#fff9;font-size:1rem;pointer-events:none}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]:has(input[formControlName=firstName]):before, .personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]:has(input[formControlName=lastName]):before{content:"\\f007"}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]:has(input[formControlName=email]):before{content:"\\f0e0"}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]:has(input[formControlName=phone]):before{content:"\\f095"}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]:has(select[formControlName=personnelType]):before{content:"\\f507"}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]:has(select[formControlName=status]):before{content:"\\f011"}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#1a1a2efa;color:#fff;padding:.5rem}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{background:#6a11cb!important}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skills-input-container[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{position:relative;display:flex}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skills-input-container[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:3rem}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skills-input-container[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .add-skill-btn[_ngcontent-%COMP%]{position:absolute;right:.5rem;top:50%;transform:translateY(-50%);background:#6a11cb;color:#fff;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:none;cursor:pointer;transition:all .3s ease}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skills-input-container[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .add-skill-btn[_ngcontent-%COMP%]:hover{background:#510d9c}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skills-input-container[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.75rem}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skills-input-container[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-tag[_ngcontent-%COMP%]{background:#6a11cb33;color:#6a11cb;padding:.35rem .75rem;border-radius:20px;font-size:.85rem;display:flex;align-items:center;gap:.5rem}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skills-input-container[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-tag[_ngcontent-%COMP%]   .remove-skill[_ngcontent-%COMP%]{background:none;border:none;color:inherit;cursor:pointer;padding:0;font-size:.7rem;opacity:.7;transition:all .2s ease}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skills-input-container[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-tag[_ngcontent-%COMP%]   .remove-skill[_ngcontent-%COMP%]:hover{opacity:1;color:#ff416c}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.8rem;color:#ff416c;display:flex;flex-direction:column;gap:.25rem}.personnel-form-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.personnel-form-modal[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding-top:1.5rem;border-top:1px solid rgba(255,255,255,.1)}.personnel-form-modal[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:10px;font-weight:500;transition:all .3s ease}.personnel-form-modal[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#ffffff0d;color:#fffc;border:1px solid rgba(255,255,255,.1)}.personnel-form-modal[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#ffffff1a}.personnel-form-modal[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6a11cb,#2575fc);color:#fff;border:none}.personnel-form-modal[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5e0fb3,#0c65fc)}.personnel-form-modal[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;background:#ffffff1a}']})};var Dn=(o,n,e)=>({"fa-check-circle":o,"fa-exclamation-triangle":n,"fa-info-circle":e}),he=()=>[],zn=o=>({active:o}),Re=(o,n)=>n._id,jn=(o,n)=>n.value;function Vn(o,n){if(o&1){let e=y();i(0,"button",27),f("click",function(){C(e);let s=g();return b(s.openPersonnelForm())}),c(1,"i",28),a(2," Nuevo Personal "),r()}}function Rn(o,n){if(o&1){let e=y();i(0,"div",8),c(1,"i",29),a(2),i(3,"button",30),f("click",function(){C(e);let s=g();return b(s.alertMessage="")}),r()()}if(o&2){let e=g();_("ngClass","alert-"+e.alertType),l(),_("ngClass",X(3,Dn,e.alertType==="success",e.alertType==="danger",e.alertType==="info")),l(),P(" ",e.alertMessage," ")}}function Bn(o,n){if(o&1&&(i(0,"option",21),a(1),r()),o&2){let e=n.$implicit;_("value",e._id),l(),T(e.name)}}function Yn(o,n){if(o&1&&(i(0,"option",21),a(1),r()),o&2){let e=n.$implicit;_("value",e.value),l(),T(e.label)}}function $n(o,n){o&1&&(i(0,"div",24)(1,"div",31),c(2,"i",32),r(),i(3,"p"),a(4,"Cargando personal..."),r()())}function qn(o,n){if(o&1){let e=y();i(0,"div",25),c(1,"i",33),i(2,"h3"),a(3,"No se encontr\xF3 personal"),r(),i(4,"p"),a(5,"Intenta ajustar tus filtros de b\xFAsqueda"),r(),i(6,"button",14),f("click",function(){C(e);let s=g();return b(s.resetFilters())}),c(7,"i",34),a(8," Limpiar filtros "),r()()}}function Gn(o,n){if(o&1&&(i(0,"div"),c(1,"i",51),a(2),r()),o&2){let e=g().$implicit;l(2),P(" ",e.phone)}}function Wn(o,n){if(o&1&&(i(0,"span",52),a(1),r()),o&2){let e=g().$implicit;l(),T(e)}}function Un(o,n){if(o&1&&p(0,Wn,2,1,"span",52),o&2){let e=n.$index;m(e<2?0:-1)}}function Hn(o,n){if(o&1&&(i(0,"span",45),a(1),r()),o&2){let e=g().$implicit;l(),P("+",(e.skills||j(1,he)).length-2," m\xE1s")}}function Jn(o,n){if(o&1){let e=y();i(0,"button",53),f("click",function(){C(e);let s=g().$implicit,d=g(2);return b(d.openPersonnelForm(s))}),c(1,"i",54),r()}}function Kn(o,n){if(o&1){let e=y();i(0,"button",55),f("click",function(){C(e);let s=g().$implicit,d=g(2);return b(d.confirmDelete(s._id))}),c(1,"i",56),r()}}function Qn(o,n){if(o&1){let e=y();i(0,"button",57),f("click",function(){C(e);let s=g().$implicit,d=g(2);return b(d.toggleStatus(s))}),c(1,"i",43),r()}if(o&2){let e=g().$implicit;_("ngClass",Te(5,zn,e.status==="disponible")),l(),I("fa-toggle-on",e.status==="disponible")("fa-toggle-off",e.status!=="disponible")}}function Xn(o,n){if(o&1&&(i(0,"tr")(1,"td",36)(2,"div",37),c(3,"i",38),r(),i(4,"div")(5,"strong"),a(6),r(),i(7,"small"),a(8),we(9,"slice"),r()()(),i(10,"td")(11,"div",39)(12,"div"),c(13,"i",40),a(14),r(),p(15,Gn,3,1,"div"),r()(),i(16,"td")(17,"span",41),a(18),r()(),i(19,"td")(20,"span",42),c(21,"i",43),a(22),r()(),i(23,"td")(24,"div",44),k(25,Un,1,1,null,null,Q),p(27,Hn,2,2,"span",45),r()(),i(28,"td",46)(29,"div",47),p(30,Jn,2,0,"button",48),p(31,Kn,2,0,"button",49),p(32,Qn,2,7,"button",50),r()()()),o&2){let e=n.$implicit,t=g(2);l(6),Se("",e.firstName," ",e.lastName),l(2),P("ID: ",Ee(9,21,e._id,0,8),"..."),l(6),P(" ",e.email),l(),m(e.phone?15:-1),l(2),_("ngClass","type-"+e.personnelType),l(),P(" ",t.getTypeName(e.personnelType)," "),l(2),_("ngClass",e.status),l(),I("fa-check-circle",e.status==="disponible")("fa-user-clock",e.status==="asignado")("fa-umbrella-beach",e.status==="vacaciones")("fa-user-slash",e.status==="inactivo"),l(),P(" ",t.getStatusLabel(e.status)," "),l(3),S(e.skills||j(25,he)),l(2),m((e.skills||j(26,he)).length>2?27:-1),l(3),m(t.canEdit(e)?30:-1),l(),m(t.canDelete()?31:-1),l(),m(t.canToggleStatus()?32:-1)}}function Zn(o,n){if(o&1&&(i(0,"div",26)(1,"table",35)(2,"thead")(3,"tr")(4,"th"),a(5,"Nombre"),r(),i(6,"th"),a(7,"Contacto"),r(),i(8,"th"),a(9,"Categor\xEDa"),r(),i(10,"th"),a(11,"Estado"),r(),i(12,"th"),a(13,"Habilidades"),r(),i(14,"th"),a(15,"Acciones"),r()()(),i(16,"tbody"),k(17,Xn,33,27,"tr",null,Re),r()()()),o&2){let e=g();l(17),S(e.filteredList)}}var _e=class o{constructor(n,e,t){this.personnelService=n;this.modalService=e;this.authService=t}personnelList=[];filteredList=[];personnelTypes=[];searchTerm="";statusFilter="all";typeFilter="all";isLoading=!0;alertMessage="";alertType="";statusOptions=[{value:"disponible",label:"Disponible"},{value:"asignado",label:"Asignado"},{value:"vacaciones",label:"Vacaciones"},{value:"inactivo",label:"Inactivo"}];ngOnInit(){this.loadData(),this.personnelService.personnelList$.subscribe(n=>{this.personnelList=n,this.filterData(),this.isLoading=!1}),this.personnelService.personnelTypes$.subscribe(n=>{this.personnelTypes=n})}loadData(){this.isLoading=!0,this.personnelService.getAllPersonnel().subscribe({error:()=>this.showAlert("Error al cargar el personal","danger")}),this.personnelService.getAllPersonnelTypes().subscribe({error:()=>this.showAlert("Error al cargar las categor\xEDas","danger")})}filterData(){this.filteredList=this.personnelList.filter(n=>{let t=`${n.firstName} ${n.lastName}`.toLowerCase().includes(this.searchTerm.toLowerCase())||n.email.toLowerCase().includes(this.searchTerm.toLowerCase()),s=this.statusFilter==="all"||n.status===this.statusFilter,d=this.typeFilter==="all"||n.personnelType===this.typeFilter;return t&&s&&d})}resetFilters(){this.searchTerm="",this.statusFilter="all",this.typeFilter="all",this.filterData()}openPersonnelForm(n){let e=this.modalService.open(fe,{size:"lg"});e.componentInstance.personnel=n,e.componentInstance.personnelTypes=this.personnelTypes,e.result.then(t=>{t==="saved"&&(this.showAlert(n?"Personal actualizado":"Personal creado","success"),this.loadData())}).catch(()=>{})}toggleStatus(n){let e=n.status==="disponible"?"inactivo":"disponible";this.personnelService.updatePersonnel(n._id,H(G({},n),{status:e})).subscribe({next:()=>{this.showAlert("Estado actualizado","success"),this.loadData()},error:()=>this.showAlert("Error al actualizar estado","danger")})}confirmDelete(n){let e=this.modalService.open(de);e.componentInstance.title="Confirmar eliminaci\xF3n",e.componentInstance.message="\xBFEst\xE1s seguro de eliminar este miembro del personal?",e.componentInstance.confirmText="Eliminar",e.componentInstance.confirmClass="btn-danger",e.result.then(t=>{t&&this.personnelService.deletePersonnel(n).subscribe({next:()=>{this.showAlert("Personal eliminado","success"),this.loadData()},error:()=>this.showAlert("Error al eliminar","danger")})}).catch(()=>{})}getStatusLabel(n){let e=this.statusOptions.find(t=>t.value===n);return e?e.label:"Desconocido"}getTypeName(n){let e=this.personnelTypes.find(t=>t._id===n);return e?e.name:"Sin categor\xEDa"}showAlert(n,e){this.alertMessage=n,this.alertType=e,setTimeout(()=>this.alertMessage="",5e3)}canCreate(){return this.authService.hasAnyRole(["admin","coordinador"])}canEdit(n){return this.authService.hasAnyRole(["admin","coordinador"])}canDelete(){return this.authService.hasRole("admin")}canToggleStatus(){return this.authService.hasAnyRole(["admin","coordinador"])}static \u0275fac=function(e){return new(e||o)(u(w),u(ce),u(V))};static \u0275cmp=A({type:o,selectors:[["app-personnel-list"]],standalone:!1,decls:45,vars:8,consts:[[1,"personnel-management-container"],[1,"main-content-wrapper"],[1,"dashboard-content"],[1,"dashboard-header"],[1,"header-content"],[1,"fas","fa-users-cog","me-2"],[1,"header-actions"],[1,"btn","btn-primary"],[1,"alert",3,"ngClass"],[1,"search-filter-section"],[1,"search-card"],[1,"input-field"],[1,"fas","fa-search"],["type","text","placeholder","Buscar personal...",3,"ngModelChange","input","ngModel"],[1,"btn","btn-text",3,"click"],[1,"fas","fa-filter-circle-xmark","me-1"],[1,"filter-cards"],[1,"filter-card"],[1,"fas","fa-user-tag","me-2"],[3,"ngModelChange","change","ngModel"],["value","all"],[3,"value"],[1,"fas","fa-power-off","me-2"],[1,"personnel-table-section"],[1,"loading-state"],[1,"empty-state"],[1,"table-responsive"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-user-plus","me-2"],[1,"fas",3,"ngClass"],["type","button",1,"btn-close",3,"click"],[1,"spinner"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-user-slash"],[1,"fas","fa-undo","me-1"],[1,"personnel-table"],[1,"personnel-name"],[1,"personnel-avatar"],[1,"fas","fa-user"],[1,"contact-info"],[1,"fas","fa-envelope"],[1,"type-badge",3,"ngClass"],[1,"status-badge",3,"ngClass"],[1,"fas"],[1,"skills-container"],[1,"skill-more"],[1,"actions-cell"],[1,"action-buttons"],[1,"btn-action","edit"],[1,"btn-action","delete"],[1,"btn-action","status",3,"ngClass"],[1,"fas","fa-phone"],[1,"skill-badge"],[1,"btn-action","edit",3,"click"],[1,"fas","fa-pen-to-square"],[1,"btn-action","delete",3,"click"],[1,"fas","fa-trash-can"],[1,"btn-action","status",3,"click","ngClass"]],template:function(e,t){e&1&&(c(0,"app-navbar"),i(1,"div",0)(2,"div",1),c(3,"app-sidebar"),i(4,"main",2)(5,"div",3)(6,"div",4)(7,"h1"),c(8,"i",5),a(9," Gesti\xF3n de Personal"),r(),i(10,"div",6),p(11,Vn,3,0,"button",7),r()()(),p(12,Rn,4,7,"div",8),i(13,"div",9)(14,"div",10)(15,"div",11),c(16,"i",12),i(17,"input",13),L("ngModelChange",function(d){return N(t.searchTerm,d)||(t.searchTerm=d),d}),f("input",function(){return t.filterData()}),r()(),i(18,"button",14),f("click",function(){return t.resetFilters()}),c(19,"i",15),a(20," Limpiar "),r()(),i(21,"div",16)(22,"div",17)(23,"label"),c(24,"i",18),a(25,"Categor\xEDa"),r(),i(26,"select",19),L("ngModelChange",function(d){return N(t.typeFilter,d)||(t.typeFilter=d),d}),f("change",function(){return t.filterData()}),i(27,"option",20),a(28,"Todas"),r(),k(29,Bn,2,2,"option",21,Re),r()(),i(31,"div",17)(32,"label"),c(33,"i",22),a(34,"Estado"),r(),i(35,"select",19),L("ngModelChange",function(d){return N(t.statusFilter,d)||(t.statusFilter=d),d}),f("change",function(){return t.filterData()}),i(36,"option",20),a(37,"Todos"),r(),k(38,Yn,2,2,"option",21,jn),r()()()(),i(40,"div",23),p(41,$n,5,0,"div",24),p(42,qn,9,0,"div",25),p(43,Zn,19,0,"div",26),r()()()(),c(44,"app-footer")),e&2&&(l(11),m(t.canCreate()?11:-1),l(),m(t.alertMessage?12:-1),l(5),F("ngModel",t.searchTerm),l(9),F("ngModel",t.typeFilter),l(3),S(t.personnelTypes),l(6),F("ngModel",t.statusFilter),l(3),S(t.statusOptions),l(3),m(t.isLoading?41:-1),l(),m(!t.isLoading&&t.filteredList.length===0?42:-1),l(),m(!t.isLoading&&t.filteredList.length>0?43:-1))},dependencies:[Z,Y,$,D,B,z,R,ee,ne,te,Fe],styles:[`@keyframes _ngcontent-%COMP%_particle-rotate{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse-glow{0%,to{opacity:1}50%{opacity:.7;box-shadow:0 0 15px currentColor}}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background:#1a1a2e;color:#fff;min-height:100vh;display:flex;justify-content:center;align-items:center;background-image:radial-gradient(circle at 10% 20%,rgba(106,17,203,.1) 0%,transparent 20%),radial-gradient(circle at 90% 80%,rgba(37,117,252,.1) 0%,transparent 20%)}.pulse-effect[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse-glow 2s infinite alternate}.card[_ngcontent-%COMP%]{background:#ffffff0d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:20px;box-shadow:0 8px 32px #0000004d;position:relative;overflow:hidden}.card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);transform:rotate(0);animation:_ngcontent-%COMP%_particle-rotate 15s linear infinite;pointer-events:none;z-index:0}.input-field[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5rem}.input-field[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:15px;top:50%;transform:translateY(-50%);color:#ffffffb3;transition:all .3s ease}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 15px 15px 45px;background:#ffffff1a;border:1px solid rgba(255,255,255,.1);border-radius:10px;color:#fff;font-size:1rem;transition:all .3s ease}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#6a11cb;background:#ffffff26;box-shadow:0 0 0 2px #6a11cb4d}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + i[_ngcontent-%COMP%]{color:#6a11cb}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:15px 25px;border-radius:10px;font-weight:600;text-transform:uppercase;letter-spacing:1px;font-size:.9rem;border:none;cursor:pointer;transform:translateY(0);transition:all .3s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0003}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6a11cb,#2575fc);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5e0fb3,#0c65fc)}.btn-text[_ngcontent-%COMP%]{background:transparent;color:#ffffffb3;padding:10px}.btn-text[_ngcontent-%COMP%]:hover{color:#f46b45}.alert[_ngcontent-%COMP%]{padding:15px;border-radius:10px;margin-bottom:20px;display:flex;align-items:center;gap:10px;animation:_ngcontent-%COMP%_fadeIn .3s ease}.alert-warning[_ngcontent-%COMP%]{background:#f9d4231a;border-left:4px solid #f9d423;color:#f9d423}.main-content-wrapper[_ngcontent-%COMP%]{display:flex;min-height:calc(100vh - 120px)}.dashboard-content[_ngcontent-%COMP%]{flex:1;padding:2rem;margin-left:280px;transition:margin-left .3s ease;background:#23233e}@media (max-width: 992px){.dashboard-content[_ngcontent-%COMP%]{margin-left:0;padding:1rem}}.personnel-management-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;background-color:#23233e;position:relative;overflow:hidden}.dashboard-header[_ngcontent-%COMP%]{margin-bottom:2rem}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:600;color:#fff;display:flex;align-items:center}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#6a11cb}.search-filter-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1.5rem;margin-bottom:2rem}@media (min-width: 992px){.search-filter-section[_ngcontent-%COMP%]{grid-template-columns:2fr 1fr}}.search-card[_ngcontent-%COMP%]{background:#ffffff0d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);padding:1.5rem;border-radius:15px;display:flex;align-items:center;gap:1rem}.search-card[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{flex:1}.search-card[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 3rem;background:#ffffff1a;border:1px solid rgba(255,255,255,.1);border-radius:10px;color:#fff;font-size:1rem;transition:all .3s ease}.search-card[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#6a11cb;background:#ffffff26;box-shadow:0 0 0 2px #6a11cb4d}.search-card[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.search-card[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#ffffffb3}.filter-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.filter-cards[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]{background:#ffffff0d;padding:1rem;border-radius:10px;background:#1a1a2ef2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);box-shadow:0 5px 15px #0003;transition:all .3s ease}.filter-cards[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 20px #0000004d;border-color:#ffffff26}.filter-cards[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:.75rem;font-size:.9rem;color:#ffffffe6;font-weight:500}.filter-cards[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#6a11cb;margin-right:.75rem;font-size:.95rem}.filter-cards[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.65rem 1rem;background:#ffffff14;border:1px solid rgba(255,255,255,.1);border-radius:8px;color:#fff;font-size:.95rem;transition:all .3s ease;cursor:pointer;appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='rgba(255,255,255,0.6)'%3e%3cpath d='M7 10l5 5 5-5z'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:1rem}.filter-cards[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#6a11cb;background-color:#ffffff1f;box-shadow:0 0 0 2px #6a11cb33}.filter-cards[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#1a1a2ef2;color:#fff;padding:.5rem}.filter-cards[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{background:#6a11cb!important}@media (max-width: 768px){.filter-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}}.personnel-table-section[_ngcontent-%COMP%]{background:#ffffff0d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:15px;padding:1.5rem;min-height:400px;position:relative}.loading-state[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;inset:0;background:#1a1a2eb3;z-index:10}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1.5rem;color:#6a11cb}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#fffc;margin-bottom:1.5rem}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffffff4d}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff9}.personnel-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0}@media (max-width: 768px){.personnel-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.personnel-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:block;margin-bottom:1.5rem;border-radius:10px;background:#ffffff0d;padding:1rem}.personnel-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0;border-bottom:1px solid rgba(255,255,255,.1)}.personnel-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:600;margin-right:1rem;color:#ffffffb3;flex-shrink:0}.personnel-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-bottom:none}.personnel-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.personnel-name[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}.personnel-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.personnel-name[_ngcontent-%COMP%]:before{align-self:flex-start}.personnel-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.personnel-name[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}}.personnel-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem;text-align:left;font-weight:600;color:#fffc;border-bottom:2px solid rgba(255,255,255,.1)}@media (max-width: 768px){.personnel-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}}.personnel-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease}.personnel-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#ffffff0d}.personnel-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid rgba(255,255,255,.05)}.personnel-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px;border-bottom-left-radius:10px}.personnel-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px;border-bottom-right-radius:10px}@media (max-width: 768px){.personnel-name[_ngcontent-%COMP%]{flex-direction:column!important;align-items:flex-start!important;gap:.5rem!important}.personnel-name[_ngcontent-%COMP%]   .personnel-avatar[_ngcontent-%COMP%]{align-self:center}.contact-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{justify-content:flex-end;text-align:right}.contact-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:none}.skills-container[_ngcontent-%COMP%], .actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{justify-content:flex-end}.type-badge[_ngcontent-%COMP%], .status-badge[_ngcontent-%COMP%]{margin-left:auto}}.personnel-name[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.personnel-name[_ngcontent-%COMP%]   .personnel-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#6a11cb33;display:flex;align-items:center;justify-content:center;color:#6a11cb;flex-shrink:0}.personnel-name[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#fff9;margin-top:.25rem}.contact-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem;font-size:.9rem}.contact-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff9;width:16px;text-align:center}.type-badge[_ngcontent-%COMP%], .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:20px;font-size:.85rem;font-weight:500}.type-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.type-badge[_ngcontent-%COMP%]{background:#6a11cb33;color:#6a11cb}.status-badge.disponible[_ngcontent-%COMP%]{background:#38ef7d33;color:#38ef7d}.status-badge.asignado[_ngcontent-%COMP%]{background:#6a11cb33;color:#6a11cb}.status-badge.vacaciones[_ngcontent-%COMP%]{background:#f9d42333;color:#f9d423}.status-badge.inactivo[_ngcontent-%COMP%]{background:#ff416c33;color:#ff416c}.skills-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.skill-badge[_ngcontent-%COMP%]{background:#ffffff1a;color:#fff;padding:.25rem .75rem;border-radius:20px;font-size:.75rem}.skill-more[_ngcontent-%COMP%]{color:#fff9;font-size:.75rem;align-self:center}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:none;cursor:pointer;transition:all .3s ease}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.edit[_ngcontent-%COMP%]{background:#6a11cb1a;color:#6a11cb}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.edit[_ngcontent-%COMP%]:hover{background:#6a11cb4d}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.delete[_ngcontent-%COMP%]{background:#ff416c1a;color:#ff416c}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.delete[_ngcontent-%COMP%]:hover{background:#ff416c4d}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.status[_ngcontent-%COMP%]{background:#38ef7d1a;color:#38ef7d}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.status[_ngcontent-%COMP%]:hover{background:#38ef7d4d}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.status.active[_ngcontent-%COMP%]{color:#38ef7d}.alert[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-radius:10px;margin-bottom:2rem;display:flex;align-items:center;gap:1rem;position:relative;animation:_ngcontent-%COMP%_fadeIn .3s ease}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.alert-success[_ngcontent-%COMP%]{background:#38ef7d1a;border-left:4px solid #38ef7d;color:#38ef7d}.alert-danger[_ngcontent-%COMP%]{background:#ff416c1a;border-left:4px solid #ff416c;color:#ff416c}.alert-info[_ngcontent-%COMP%]{background:#6a11cb1a;border-left:4px solid #6a11cb;color:#6a11cb}.alert[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%);color:inherit;opacity:.7}.alert[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:1}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}`]})};var et=[{path:"personnel-types",component:ge},{path:"personnel",component:_e}],ue=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=K({type:o});static \u0275inj=J({imports:[be.forChild(et),be]})};var Be=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=K({type:o});static \u0275inj=J({imports:[Ne,ue,Ie,De,je,ze]})};export{w as a,fe as b,Be as c};
